Timer unit: 1e-06 s

Total time: 0.00101445 s
File: /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/utils.py
Function: majority_vote at line 17

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    17                                           @line_profiler.profile
    18                                           def majority_vote(neighbors: list[int]):
    19       281        111.7      0.4     11.0      unique_labels = set(neighbors)
    20       281         30.9      0.1      3.0      max_label = None
    21       281         25.0      0.1      2.5      max_count = 0
    22
    23       699        102.8      0.1     10.1      for label in unique_labels:
    24       418         36.3      0.1      3.6          tmp = 0
    25      2508        236.8      0.1     23.3          for element in neighbors:
    26      2090        191.7      0.1     18.9              if element == label:
    27      1405        144.3      0.1     14.2                  tmp += 1
    28
    29       418         50.4      0.1      5.0          if tmp >  max_count:
    30       338         30.7      0.1      3.0              max_count = tmp
    31       338         28.3      0.1      2.8              max_label = label
    32
    33       281         25.6      0.1      2.5      return max_label

Total time: 0.166115 s
File: /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/utils.py
Function: distance at line 8

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
     8                                           @line_profiler.profile
     9                                           def distance(point1: list[float], point2: list[float]):
    10     19670       1860.5      0.1      1.1      n = len(point1)
    11     19670       1704.4      0.1      1.0      sum = 0
    12
    13    688450      53595.5      0.1     32.3      for i in range(n):
    14    668780     106682.4      0.2     64.2          sum += (point1[i] - point2[i])**2
    15     19670       2272.1      0.1      1.4      return sqrt(sum)

Total time: 0.327828 s
File: /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/classifier.py
Function: _get_k_nearest_neighbors at line 12

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    12                                               @line_profiler.profile
    13                                               def _get_k_nearest_neighbors(self, X, y, x):
    14       281     324998.8   1156.6     99.1          dist_list = [(idx, utils.distance(p, x)) for idx, p in enumerate(X)]
    15                                                   #Order list of touples based on disatnces
    16       281       2338.3      8.3      0.7          dist_list.sort(key=lambda x: x[1])
    17       281        277.3      1.0      0.1          idx_list = [t[0] for t in dist_list[:self.k]]
    18       281        183.7      0.7      0.1          final_list = [y[idx] for idx in idx_list]
    19       281         30.1      0.1      0.0          return final_list

Total time: 0.331306 s
File: /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/classifier.py
Function: __call__ at line 21

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
    21                                               @line_profiler.profile
    22                                               def __call__(self, data, new_points):
    23         1          1.1      1.1      0.0          X = data[0]
    24         1          0.4      0.4      0.0          y = data[1]
    25         1          0.3      0.3      0.0          y_pred = []
    26       282         37.5      0.1      0.0          for x in new_points:
    27       281     328613.0   1169.4     99.2              tmp_labels = self._get_k_nearest_neighbors(X, y, x)
    28       281       2574.5      9.2      0.8              max_label = utils.majority_vote(tmp_labels)
    29       281         79.4      0.3      0.0              y_pred.append(max_label)
    30         1          0.1      0.1      0.0          return y_pred

  0.00 seconds - /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/utils.py:17 - majority_vote
  0.17 seconds - /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/utils.py:8 - distance
  0.33 seconds - /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/classifier.py:12 - _get_k_nearest_neighbors
  0.33 seconds - /home/nicholaspearson/DevTools/Lab01/devtools_scicomp_project_2025/src/pyclassify/classifier.py:21 - __call__